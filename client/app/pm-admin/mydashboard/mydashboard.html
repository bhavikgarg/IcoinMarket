<div class="container" style="background-color: #fff">
    <div class="block-condensed">
        <div class="block-content">
            <div class="row">
                <div class="col-md-12" style="border-bottom: 1px solid #ccc;">
                    <h5 style="font-size: 20px; padding: 10px 0px;">MY DASHBOARD</h5>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 col-sm-12 col-xs-12">
                    <div class="white-box">
                        <h3 class="box-title" style="font-size: 18px;">Current Investment</h3>
                        <form ng-submit="pickCommitment()" name="form">
                            <divs>
                                <div style="padding-bottom: 15px; height :280px;overflow-y: auto">
                                    <table width="100%" class="table table-bordered table-head-light table-striped" md-table md-row-select="options.rowSelection"
                                        multiple="{{options.multiSelect}}" ng-model="selected" md-progress="promise" id="tblTeamMemberList">
                                        <thead ng-if="!options.decapitate" md-head md-order="query.order" md-on-reorder="logOrder">
                                            <tr md-row>
                                                <th md-column style="padding: 14px"><span>Package</span></th>
                                                <th md-column style="padding: 14px"><span>Maturity Period</span></th>
                                                <th md-column style="padding: 14px"><span>Amount</span></th>
                                                <th md-column style="padding: 14px"><span>Status</span></th>
                                                <th md-column style="padding: 14px"><span>Date</span></th>
                                            </tr>
                                        </thead>
                                        <tbody md-body>
                                            <tr ng-if="pickedCommiments.length > 0" md-row md-select="user" md-on-select="logItem" md-auto-select="options.autoSelect" ng-repeat="user in pickedCommiments">
                                                <td md-cell md-checked style="padding: 14px">
                                                    <p><strong>{{user.packagename}}</strong></p>
                                                </td>
                                                <td md-cell style="padding: 14px">
                                                    <p><strong>{{user.maturityPeriod}} Months</strong></p>
                                                </td>
                                                <td md-cell md-checked style="padding: 14px">
                                                    <p><strong>{{user.amount}}</strong></p>
                                                </td>
                                                <td md-cell style="padding: 14px">
                                                    <p><strong>{{user.status}}</strong></p>
                                                </td>
                                                <td md-cell style="padding: 14px">
                                                    <p><strong>{{user.createdat | date }}</strong></p>
                                                </td>
                                            </tr>
                                            <tr ng-if="unPickedList.length == 0" md-row>
                                                <td md-cell colspan="2">
                                                    <p class="text-center"><strong>No commitment found</strong></p>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <div class="row">
                                    <div class="col-md-4 text-left" style="font-size: 14px;text-align: left;font-weight: bold;">
                                        Unpicked Amount : ${{totalCommittedAmount}}
                                    </div>
                                    <div class="col-md-4 text-left" style="font-size: 14px;text-align: left;font-weight: bold;">
                                        Selected Amount : ${{selectedAmountTotal()}}
                                    </div>
                                    <div class="col-md-4 text-right">
                                        <button class="btn-lg btn btn-success pull-right" type="submit">Pick Amount</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <div class="white-box">
                        <h3 class="box-title m-b-0" style="font-size: 18px;">Latest User Investment</h3>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>User ID</th>
                                    <th>User Name</th>
                                    <th>Date</th>
                                    <th>Investment</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="(key,latestInvestment) in latestInvestments">
                                    <td>{{key+1}}</td>
                                    <td>{{latestInvestment.userid._id}}</td>
                                    <td>{{latestInvestment.userid.name}}</td>
                                    <td>{{latestInvestment.createdat | date}}</td>
                                    <td>{{latestInvestment.amount}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="white-box">
                        <h3 class="box-title m-b-0" style="font-size: 18px;">Per Day Investment Graph</h3>
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Date</th>
                                    <th>Users</th>
                                    <th>Investment</th>

                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="data in perDayInvestment track by $index">
                                    <td> {{$index+1}} </td>
                                    <td> {{data.date | date:'dd/mm/yy'}} </td>
                                    <td> {{data.users.length}} </td>
                                    <td> {{data.totalAmount}} </td>
                                </tr>                                
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>